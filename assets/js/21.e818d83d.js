(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{381:function(a,t,s){"use strict";s.r(t);var n=s(11),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker-lnmp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-lnmp"}},[a._v("#")]),a._v(" Docker-LNMP")]),a._v(" "),s("blockquote",[s("p",[a._v("systemOS: debian 8+")])]),a._v(" "),s("p",[a._v("校对时间:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v("  /usr/share/zoneinfo/Asia/ShangHai  /etc/localtime\n")])])]),s("ul",[s("li",[a._v("安装Docker")])]),a._v(" "),s("div",{staticClass:"language-$bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo pacman -S docker\n")])])]),s("ul",[s("li",[a._v("安装Dockercompose")])]),a._v(" "),s("div",{staticClass:"language-$bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("curl -L https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n\nchmod +x /usr/local/bin/docker-compose\n")])])]),s("p",[a._v("测试安装是否成功：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker -v\ndocker-compose -version\n")])])]),s("p",[a._v("建立 Docker 组加入当前用户：")]),a._v(" "),s("div",{staticClass:"language-$bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo groupadd docker\nsudo usermod -aG docker $USER\n")])])]),s("p",[a._v("开机启动docker：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" docker \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start docker\n\n// 重启docker\nsystemctl daemon-reload\nsystemctl restart docker\n")])])]),s("p",[a._v("有时候pull image 的时候很慢可以添加国内源")]),a._v(" "),s("div",{staticClass:"language-$json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('// sudo vim /etc/docker/daemon.json\n\n{\n    "registry-mirrors": [\n    "https://kfwkfulq.mirror.aliyuncs.com",\n    "https://2lqq34jg.mirror.aliyuncs.com",\n    "https://pee6w651.mirror.aliyuncs.com",\n    "https://registry.docker-cn.com",\n    "http://hub-mirror.c.163.com"\n    ]\n}\n')])])]),s("ul",[s("li",[a._v("Laradock")])]),a._v(" "),s("p",[a._v("Wike: http://laradock.io/")]),a._v(" "),s("p",[a._v("快速开始：克隆Laradock")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git clone https://github.com/Laradock/laradock.git\n")])])]),s("p",[a._v("自定义配置")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd laradock\ncp env-example .env\n")])])]),s("p",[a._v("运行容器")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker-compose up -d nginx phpmyadmin workspace \n")])])]),s("p",[a._v("连接数据库")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DB_HOST=mysql //记得是：mysql, 不是127.0.0.1\nREDIS_HOST=redis\n")])])]),s("p",[a._v("Ps: .env 文件是基本的配置文件，大家可以根据自己的需求更改配置，需要注意的是，如果默认安装了mysql:8.0,但是我想安装mysql:5.6怎么办？")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim .env\nESC\n:/mysql\n")])])]),s("p",[a._v("找到mysql，然后【MYSQL_VERSION=5.6】直接写版本就可以 最后需要build一下，并且删除之前的mysql缓存数据")]),a._v(" "),s("div",{staticClass:"language-$xslt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd laradock\nrm -rf ~/.laradock\ndocker-compose build mysql\ndocker-compose up -d nginx mysql phpmyadmin\n")])])]),s("h1",{attrs:{id:"docker-swarm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm"}},[a._v("#")]),a._v(" docker-swarm")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# master\ndocker swarm init --advertise-addr 192.168.99.100\nrclone mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\n")])])]),s("h1",{attrs:{id:"laradock扩展应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laradock扩展应用"}},[a._v("#")]),a._v(" Laradock扩展应用")]),a._v(" "),s("blockquote",[s("p",[a._v("相应文件夹可以到github或者群里获取。")])]),a._v(" "),s("p",[a._v(".env")]),a._v(" "),s("div",{staticClass:"language-.env extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("## httpbin \nHTTPBIN_PORT=8085\n\n## wordPress\nWORDPRESS_PORT=8086\nWORDPRESS_HTML=./wordpress\n\n## emby \n# bash: mkdir -p emby/config emby/Data emby/Pan\nEMBY_IMAGE=emby/embyserver\nEMBY_HTTP_PORT=8085\nEMBY_HTTPS_PORT=8086\nEMBY_CONFIG_PATH=./emby/config\nEMBY_SHAREDIR_PATH=./emby/data\nEMBY_CLOUD_PATH=/home/orangbus/Pan\n\n## jellyfin\n# bash：mkdir -p /home/video && mkdir -p ./jellyfin/config cache\nJELLYFIN_IMAGE=jellyfin/jellyfin:latest\nJELLYFIN_HTTP_PORT=8096\nJELLYFIN_CONFIG=./jellyfin/config\nJELLYFIN_CACHE=./jellyfin/cache\nJELLYFIN_VIDEO_PATH=/home/video\n\n# nextCloud ############################\n# bash: mkdir nextcloud && cd nextcloud && mkdir -p NextCloud Apps Config Data Theme\nNEXTCLOUD_PORT=8083\nNEXTCLOUD=./nextcloud/NextCloud\nNEXTCLOUD_APPS=./nextcloud/Apps\nNEXTCLOUD_CONFIG=./nextcloud/Config\nNEXTCLOUD_DATA=./nextcloud/Data\nNEXTCLOUD_THEME=./nextcloud/Theme\n\n# 百度网盘\nBAIDU_PORT=8088\nBAIDU_PATH=./baidu/data\n\n# aria2\n# bash: mkdir aria2 && mkdir -p Download config\nARIA2_HTTP_PORT=8089\nARIA2_POER1=6800\nARIA2_POER2=16881\nARIA2_SECRET=admin  # 密码\nARIA2_DOWNLOAD_DIR=./aria2/Download\nARIA2_CONFIG=./aria2/config\n\n")])])]),s("p",[a._v("docker-compose")]),a._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# httpin ")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("httpbin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" httpbin\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" kennethreitz/httpbin\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 8085"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\n      \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# wordPress 生产环境请自行修改数据库账号密码")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wordpress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_HOST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" mysql\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_USER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("WORDPRESS_HTML"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${WORDPRESS_PORT}:80"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("depends_on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" mysql\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" nginx\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" php"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("fpm\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" frontend\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" backend\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# emby")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("emby")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" emby\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_IMAGE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${EMBY_HTTP_PORT}:8096"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${EMBY_HTTPS_PORT}:8920"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("UID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("GID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("GIDLIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("DEVICE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /dev/dri"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/dev/dri\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("RUNTIME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nvidia\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_CONFIG_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_SHAREDIR_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/shareDir\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_CLOUD_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/CloudDrive\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# jellyfin")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("jellyfin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jellyfin\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jellyfin/jellyfin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_IMAGE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      \t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${JELLYFIN_HTTP_PORT}:8096"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_CONFIG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_CACHE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/cache\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_VIDEO_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/video\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("### nextCloud $$$$$$$$$$$$$$$$$$")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nextcloud")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nextcloud\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nextcloud\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_APPS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/custom_apps\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_DATA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/data\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_CONFIG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/config\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_THEME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/themes\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("depends_on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" nginx\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" php"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("fpm\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" mysql\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${NEXTCLOUD_PORT}:80"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" frontend\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" backend\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 百度网盘")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("baidu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" baidupcs\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" auska/docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("baidupcs\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("BAIDU_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/root/Download\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PGID=1001\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PUID=1001\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" TZ=Asia/Shanghai\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PORT=1999\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${BAIDU_PORT}:1999"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# aria2")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("aria2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aria2\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" auska/docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("aria2\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_DOWNLOAD_DIR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/Download\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_CONFIG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PUID=0\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PGID=0\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" RPC=6800\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" TZ=Asia/Shanghai\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" SECRET=$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_SECRET"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_HTTP_PORT}:80"')]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_POER1}:6800"')]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_POER2}:16881"')]),a._v("\n\n")])])]),s("h2",{attrs:{id:"laradock无法安装解决方法汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laradock无法安装解决方法汇总"}},[a._v("#")]),a._v(" Laradock无法安装解决方法汇总")]),a._v(" "),s("h3",{attrs:{id:"镜像导入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像导入"}},[a._v("#")]),a._v(" 镜像导入")]),a._v(" "),s("h3",{attrs:{id:"修改hosts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改hosts"}},[a._v("#")]),a._v(" 修改hosts")]),a._v(" "),s("h3",{attrs:{id:"替换无法下载链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#替换无法下载链接"}},[a._v("#")]),a._v(" 替换无法下载链接")]),a._v(" "),s("h2",{attrs:{id:"无法从github下载nvm解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无法从github下载nvm解决办法"}},[a._v("#")]),a._v(" 无法从github下载nvm解决办法")]),a._v(" "),s("p",[a._v("容器里面无法下载，那么我们就先下载好放在"),s("code",[a._v("workspace")]),a._v(" 目录下")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" http://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh pathTo/laradck/workspace\n")])])]),s("p",[a._v("编辑"),s("code",[a._v("workspace")]),a._v(" 文件夹下面的"),s("code",[a._v("dockerfile")]),a._v(" 文件")]),a._v(" "),s("p",[a._v("搜索："),s("code",[a._v("COPY ./aliases.sh /home/laradock/aliases.sh")]),a._v(" 在下面添加一行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("COPY ./nvm.sh /home/laradock/nvm.sh\n")])])]),s("p",[a._v("在"),s("code",[a._v("chown laradock:laradock /home/laradock/aliases.sh && \\")]),a._v(" 下面添加一行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" laradock:laradock /home/laradock/nvm.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n")])])]),s("p",[a._v("替换下载地址 "),s("code",[a._v("mkdir -p $NVM_DIR && \\")]),a._v(" 下面替换（大概在677行左右）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 替换为")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /home/laradock/nvm.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n")])])]),s("p",[a._v("重新启动一下"),s("code",[a._v("workspace")]),a._v(" 就可以啦")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose up -d workspace\n")])])]),s("p",[a._v("如果还是不行，那就过几分钟重新再执行上面的命令，多试几次就好了，根据我安装这么多次经验，一般这样就可以安装好了，如果家里网络不是很好的话，建议蹭一下邻居的wifi，不然这玩意真的太难下载了，只要安装好了后面就好升级啥的了。（其实这玩意难安装是因为"),s("code",[a._v("workspace")]),a._v(" 这个玩意，但是我一般用的是google云或者国外的服务器很快就安装好了）")]),a._v(" "),s("h1",{attrs:{id:"laradock离线安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laradock离线安装"}},[a._v("#")]),a._v(" Laradock离线安装")]),a._v(" "),s("p",[a._v("有时候家里的网络慢或者各种原因，我们在启动laradock的时候总是会安装失败，其中95%的原因是下载docker镜像导致的，那么今天教大家如果离线安装（不太推荐，但是万不得已可是尝试一下）")]),a._v(" "),s("blockquote",[s("p",[a._v("本机安装了docker , docker-compsoe")]),a._v(" "),s("p",[a._v("需要一个云主机，最好是国外的，国内的也可以，（我没有怎么办，腾讯云有免费体验15天活动，可以尝试一下，或者加群找群主帮你处理）")])]),a._v(" "),s("p",[a._v("流程：")]),a._v(" "),s("ol",[s("li",[a._v("现在云主机上下载并启动laradock")]),a._v(" "),s("li",[a._v("打包已经下载的镜像")]),a._v(" "),s("li",[a._v("下载打包镜像到本地")]),a._v(" "),s("li",[a._v("从本地导入下载的镜像")])]),a._v(" "),s("p",[a._v("马上操练起来（假设你已经会基本使用laradock）")]),a._v(" "),s("h2",{attrs:{id:"导出laradock镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导出laradock镜像"}},[a._v("#")]),a._v(" 导出laradock镜像")]),a._v(" "),s("p",[a._v("列出所有进项，")]),a._v(" "),s("p",[s("img",{attrs:{src:"/images/dockerimage.png",alt:""}})]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("➜  laradock git:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ✗ docker images    \nlaradock_nginx        latest         b7ba928e59d2        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" days ago           "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("27")]),a._v(".2MB\n\n")])])]),s("p",[a._v("挨个导出，然后下载到本地")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker save -o laradock_nginx.tar laradock_nginx\n")])])]),s("p",[a._v("此时会在当前目录下生成一个"),s("code",[a._v("laradock_nginx.tar")]),a._v(" 的文件，")]),a._v(" "),s("h2",{attrs:{id:"导入laradock镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入laradock镜像"}},[a._v("#")]),a._v(" 导入laradock镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker load -i laradock_nginx.tar\n")])])]),s("p",[a._v("到此就可以直接启用了。")]),a._v(" "),s("h1",{attrs:{id:"window10使用laradock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window10使用laradock"}},[a._v("#")]),a._v(" window10使用Laradock")]),a._v(" "),s("p",[a._v("起因：公司没人用linux，但是我又懒得去折腾window了，有什么办法可以在window环境下使用linux的开发环境，答案有。")]),a._v(" "),s("p",[a._v("大概思路：")]),a._v(" "),s("p",[a._v("1、window开启虚拟换支持，配置wsl")]),a._v(" "),s("p",[a._v("2、安装window下的linux子系统。")]),a._v(" "),s("p",[a._v("3、在linux系统下安装docker，并配置成功启动laradock。")]),a._v(" "),s("p",[a._v("4、远程同步开发。")]),a._v(" "),s("p",[a._v("是不是迫不及待了，马上操练起来。")]),a._v(" "),s("h2",{attrs:{id:"遇到问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到问题"}},[a._v("#")]),a._v(" 遇到问题")]),a._v(" "),s("blockquote",[s("p",[a._v("成功安装了docker，但是无法使用")])]),a._v(" "),s("p",[a._v("1、如果你参考我的步骤来，理论没问题，我在多台电脑成功配置ok。")]),a._v(" "),s("p",[a._v("2、重启一下终端，或者电脑。")]),a._v(" "),s("p",[a._v("3、请查看dock"),s("code",[a._v("docker")]),a._v(" 和 "),s("code",[a._v("docker-compose")]),a._v(" 的版本是否是最新的，以及权限问题。")]),a._v(" "),s("blockquote",[s("p",[a._v("如何使用账号密码远程连接linux")])]),a._v(" "),s("p",[a._v("安装 "),s("code",[a._v("ssh")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v("\n")])])]),s("p",[a._v("修改 ==sudo vim /etc/ssh/sshd_config== 文件，是 "),s("code",[a._v("sshd_config")]),a._v("  不是 "),s("code",[a._v("ssh_config")])]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("将 #PasswordAuthentication no 的注释去掉，并且将 no 修改为 yes\n将 #PermitRootLogin prohibit-password 的注释去掉，将 prohibit-password 改为 yes\n")])])]),s("p",[a._v("重启ssh：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart sshd\n// or\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v(" restart\n")])])]),s("h1",{attrs:{id:"错误汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误汇总"}},[a._v("#")]),a._v(" 错误汇总")]),a._v(" "),s("blockquote",[s("p",[a._v("Service 'mysql' failed to build: error pulling image configuration: Get \"https://registry-1.docker.io/v2/library/mysql/blobs/sha256:718a6da099d82183c064a964523c0deca80619cb033aadd15854771fe592a480\": dial tcp: lookup registry-1.docker.io: no such host")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('sudo echo "servername 8.8.8.8" >> /etc/resolv.conf\n')])])]),s("blockquote",[s("p",[a._v("ERROR: Service 'phpmyadmin' failed to build: Get \"https://registry-1.docker.io/v2/\": dial tcp: lookup registry-1.docker.io: no such host")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("//第一步：创建daemon.json文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/docker/daemon.json\n\n//第二步：重启docker\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart docker\n\n//第三步：执行docker-compose的时候需要在文件所在目录执行\n")])])]),s("blockquote",[s("p",[a._v("docker起不来报错：Failed to start Docker Application Container Engine")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/etc/docker/daemon.json\n这个文件的格式不对，或者因为防火墙原因\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);