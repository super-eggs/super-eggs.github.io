(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{380:function(r,e,s){"use strict";s.r(e);var t=s(11),a=Object(t.a)({},(function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[s("h1",{attrs:{id:"minikube"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minikube"}},[r._v("#")]),r._v(" minikube")]),r._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[r._v("#")]),r._v(" 安装")]),r._v(" "),s("p",[r._v("minikube")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[r._v("sudo")]),r._v(" pacman -S nimikube\n")])])]),s("h2",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[r._v("#")]),r._v(" 启动")]),r._v(" "),s("p",[s("strong",[r._v("第一次启动")])]),r._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[r._v("minikube start --driver=virtualbox /\n--registry-mirror=https://registry.docker-cn.com\n\nminikube start --vm-driver=virtualbox /\n--image-mirror-country=cn /\n--image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers /\n--iso-url=https://kubernetes.oss-cn-hangzhou.aliyuncs.com/minikube/iso/minikube-v1.7.3.iso --registry-mirror=https://reg-mirror.qiniu.com\n\n")])])]),s("ul",[s("li",[s("code",[r._v("--vm-driver")]),r._v(" 如果不写会自动检测，可选值 virtualbox, vmwarefusion, hyperv, vmware")]),r._v(" "),s("li",[s("code",[r._v("--image-mirror-country")]),r._v(" 需要使用的镜像镜像的国家/地区代码。留空以使用全球代码。对于中国大陆用户，请将其设置为 cn。")]),r._v(" "),s("li",[s("code",[r._v("--image-repository")]),r._v("用来拉取 Kubernetes 集群所需镜像的仓库")]),r._v(" "),s("li",[s("code",[r._v("--iso-url")]),r._v("下载 minikube 虚机安装所需的 iso 文件")]),r._v(" "),s("li",[s("code",[r._v("--registry-mirror docker registry")]),r._v("的镜像源，集群安装后拉取镜像加速用，可以使用其它加速器地址")])]),r._v(" "),s("p",[r._v("这里的虚机配置对应的选项：\n--cpu=2\n--memory='2000mb\n--disk-size='20000m'")]),r._v(" "),s("p",[r._v("preloaded-images-k8s-v1-v1.17.3-docker-overlay2.tar.lz4: https://storage.googleapis.com/minikube-preloaded-volume-tarballs/preloaded-images-k8s-v1-v1.17.3-docker-overlay2.tar.lz4")]),r._v(" "),s("hr"),r._v(" "),s("p",[s("strong",[r._v("之后启动可以这样就可以")])]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[r._v("minikube start --image-mirror-country"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("cn --registry-mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("https://registry.docker-cn.com\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("## or ")]),r._v("\nminikube start --vm-driver"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("virtualbox --image-mirror-country"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("cn --registry-mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("https://reg-mirror.qiniu.com\n")])])]),s("h2",{attrs:{id:"master、node、pod、service、关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#master、node、pod、service、关系"}},[r._v("#")]),r._v(" master、node、pod、service、关系")]),r._v(" "),s("p",[s("img",{staticStyle:{width:"50%",height:"50%"},attrs:{src:"https://kuboard.cn/assets/img/module_03_nodes.38f0ef71.svg"}}),r._v(" "),s("img",{attrs:{src:"https://kuboard.cn/assets/img/module_04_services.11cdc7bc.svg"}})]),r._v(" "),s("p",[r._v("master管理node")]),r._v(" "),s("p",[r._v("node中存放pod")]),r._v(" "),s("p",[r._v("pod是一组（相似的）容器")]),r._v(" "),s("p",[r._v("service去关联 pod ，也就是pod和pod之间沟通的桥梁")]),r._v(" "),s("h2",{attrs:{id:"node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[r._v("#")]),r._v(" node")]),r._v(" "),s("h2",{attrs:{id:"pod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pod"}},[r._v("#")]),r._v(" pod")]),r._v(" "),s("h2",{attrs:{id:"service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[r._v("#")]),r._v(" service")]),r._v(" "),s("ul",[s("li",[s("p",[r._v("将一个pod暴露到公网IP上")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[r._v("kubectl expose pods nginx-pod --type"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("NodePort "),s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("#metadata.name = nginx-pod")]),r._v("\n")])])]),s("p",[r._v("访问：node_Ip:expose_Ip  //http://192.168.99.105:30696")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);