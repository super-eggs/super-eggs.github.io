(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{423:function(a,e,t){"use strict";t.r(e);var r=t(11),s=Object(r.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"laradock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#laradock"}},[a._v("#")]),a._v(" LaraDock")]),a._v(" "),t("h2",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),t("h3",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),t("p",[a._v("一套完整的基于Docker的PHP开发环境。")]),a._v(" "),t("p",[a._v("包含了预先打包的Docker镜像，所有预先配置都是为了提供一个完美的PHP开发环境。")]),a._v(" "),t("p",[t("code",[a._v("Laradock")]),a._v("是在"),t("code",[a._v("laravel")]),a._v("社区众所周知的，因为这个项目最开始只关注在"),t("code",[a._v("Docker")]),a._v("上运行的"),t("code",[a._v("laravel")]),a._v("项目。后来，由于PHP社区的大量使用，它开始支持比如"),t("code",[a._v("Symfony")]),a._v("、"),t("code",[a._v("CodeIgniter")]),a._v("、"),t("code",[a._v("WordPress")]),a._v("、"),t("code",[a._v("Drupal")]),a._v("等其他的PHP项目。")]),a._v(" "),t("h3",{attrs:{id:"快速概览"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速概览"}},[a._v("#")]),a._v(" 快速概览")]),a._v(" "),t("p",[a._v("让我们来看一下用它安装"),t("code",[a._v("NGINX")]),a._v(", "),t("code",[a._v("PHP")]),a._v(", "),t("code",[a._v("Composer")]),a._v(", "),t("code",[a._v("MySQL")]),a._v(", "),t("code",[a._v("Redis")]),a._v(" and "),t("code",[a._v("Beanstalkd")]),a._v("是多么容易：")]),a._v(" "),t("ul",[t("li",[a._v("克隆"),t("code",[a._v("Laradock")]),a._v("到你的PHP项目中:")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/Laradock/laradock.git\n")])])]),t("ul",[t("li",[a._v("进入laradock文件夹并重命名"),t("code",[a._v("env-example")]),a._v("为"),t("code",[a._v(".env")]),a._v(":")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" env-example .env\n")])])]),t("ul",[t("li",[a._v("运行你的容器:")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker-compose up -d nginx mysql redis beanstalkd\n")])])]),t("ul",[t("li",[a._v("打开你项目里的"),t("code",[a._v(".env")]),a._v("文件并设置以下内容:")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DB_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("REDIS_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("redis\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("QUEUE_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("beanstalkd\n")])])]),t("ul",[t("li",[a._v("打开浏览器并访问本地主机: "),t("code",[a._v("http://localhost")]),a._v(".")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("That's it"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" enjoy "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h3",{attrs:{id:"特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[a._v("#")]),a._v(" 特点")]),a._v(" "),t("ul",[t("li",[a._v("轻松切换PHP版本: 7.1, 7.0, 5.6...")]),a._v(" "),t("li",[a._v("选择你最喜欢的数据库引擎: MySQL, Postgres, MariaDB...")]),a._v(" "),t("li",[a._v("运行你自己的软件组合: Memcached, HHVM, Beanstalkd...")]),a._v(" "),t("li",[a._v("每个软件都运行在一个单独的容器中: PHP-FPM, NGINX, PHP-CLI...")]),a._v(" "),t("li",[a._v("通过简单的编辑 "),t("code",[a._v("Dockerfile")]),a._v("很容易定制任何容器")]),a._v(" "),t("li",[a._v("所有镜像都继承自官方的基础镜像 (可信任的基础镜像)。")]),a._v(" "),t("li",[a._v("预先配置在您的根目录下的NGINX可以托管任何代码。")]),a._v(" "),t("li",[a._v("每个项目都可以使用laradock，或者所有项目也可以共用一个laradock。")]),a._v(" "),t("li",[a._v("可以很容易的使用环境变量安装/删除容器中的软件。")]),a._v(" "),t("li",[a._v("干净、结构很好的Dockerfiles ("),t("code",[a._v("Dockerfile")]),a._v(")。")]),a._v(" "),t("li",[a._v("最新版的Docker Compose文件 ("),t("code",[a._v("docker-compose")]),a._v(")。")]),a._v(" "),t("li",[a._v("一切都是可见、可编辑的。")]),a._v(" "),t("li",[a._v("快速的镜像构建。")]),a._v(" "),t("li",[a._v("每周会有更多更新。")])]),a._v(" "),t("h3",{attrs:{id:"支持的软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持的软件"}},[a._v("#")]),a._v(" 支持的软件")]),a._v(" "),t("p",[a._v("在秉承Docker推动的关注分离原则的同时，Laradock在各自的容器中(Container)独立运行各自的软件，你可以像任何容器一样打开/关闭多个实例，而不用担心配置，一切都很有魅力。")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("数据库引擎:")]),a._v(" MySQL - MariaDB - Percona - MongoDB - Neo4j - RethinkDB - MSSQL - PostgreSQL - Postgres-PostGIS.")]),a._v(" "),t("li",[t("strong",[a._v("数据库管理:")]),a._v(" PhpMyAdmin - Adminer - PgAdmin")]),a._v(" "),t("li",[t("strong",[a._v("缓存引擎:")]),a._v(" Redis - Memcached - Aerospike")]),a._v(" "),t("li",[t("strong",[a._v("PHP 服务器:")]),a._v(" NGINX - Apache2 - Caddy")]),a._v(" "),t("li",[t("strong",[a._v("PHP 编译器:")]),a._v(" PHP FPM - HHVM")]),a._v(" "),t("li",[t("strong",[a._v("消息队列:")]),a._v(" Beanstalkd - RabbitMQ - PHP Worker")]),a._v(" "),t("li",[t("strong",[a._v("队列管理:")]),a._v(" Beanstalkd Console - RabbitMQ Console")]),a._v(" "),t("li",[t("strong",[a._v("随机 工具:")]),a._v(" HAProxy - Certbot - Blackfire - Selenium - Jenkins - ElasticSearch - Kibana - Grafana - Mailhog - MailDev - Minio - Varnish - Swoole - Laravel Echo...")])]),a._v(" "),t("p",[a._v("作为一个开发环境，Laradock引入了"),t("strong",[a._v("Workspace")]),a._v("镜像，它包含一套丰富的有用的工具，所有工具都用上预先配置好的，几乎可以与所有你选择的容器或者工具组合起来一起工作。")]),a._v(" "),t("p",[t("strong",[a._v("Workspace 镜像工具")])]),a._v(" "),t("p",[a._v("PHP CLI - Composer - Git - Linuxbrew - Node - V8JS - Gulp - SQLite - xDebug - Envoy - Deployer - Vim - Yarn - SOAP - Drush...")]),a._v(" "),t("p",[a._v("你可以从"),t("code",[a._v(".env")]),a._v("文件中选择要安装的在工作区的容器和其它容器中的工具。")]),a._v(" "),t("blockquote",[t("p",[a._v("如果你修改"),t("code",[a._v("docker-compose.yml")]),a._v(", "),t("code",[a._v(".env")]),a._v(" 或者任何 "),t("code",[a._v("dockerfile")]),a._v(" 文件, 你必须重新构建你的容器, 在运行实例中查看这些修改的效果。")])]),a._v(" "),t("p",[a._v("如果您在列表中找不到您的软件，请自行构建并提交。贡献欢迎:)")]),a._v(" "),t("h3",{attrs:{id:"赞助商"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#赞助商"}},[a._v("#")]),a._v(" 赞助商")]),a._v(" "),t("p",[a._v("通过成为赞助商来支持这个项目。")]),a._v(" "),t("p",[a._v("您的logo将会显示在"),t("a",{attrs:{href:"https://github.com/laradock/laradock/",target:"_blank",rel:"noopener noreferrer"}},[a._v("github 仓库"),t("OutboundLink")],1),a._v(" 的索引页和 "),t("a",{attrs:{href:"http://laradock.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("文档"),t("OutboundLink")],1),a._v(" 主页， 并链接到您的网站. ["),t("a",{attrs:{href:"https://opencollective.com/laradock#sponsor",target:"_blank",rel:"noopener noreferrer"}},[a._v("成为赞助商"),t("OutboundLink")],1),a._v("]")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/0/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/0/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/1/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/1/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/2/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/2/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/3/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/3/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/4/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/4/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/5/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/5/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/6/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/6/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/7/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/7/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/8/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/8/avatar.svg",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://opencollective.com/laradock/sponsor/9/website",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://opencollective.com/laradock/sponsor/9/avatar.svg",alt:"img"}}),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"什么是docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是docker"}},[a._v("#")]),a._v(" 什么是Docker")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker"),t("OutboundLink")],1),a._v(" 是一个开发、运输、运行应用程序的开放平台。")]),a._v(" "),t("p",[a._v("Docker可以使你将应用程序和你的基础架构(设备)分离，因此你可以快速的交付你软件。")]),a._v(" "),t("p",[a._v("使用Docker，你可以管理应用程序一样管理你的基础架构，通过使用Docker的methodologies来快速的传输、测试和部署代码，可以显著的缩短编写代码和生成环境中运行的代码之间的延迟。")]),a._v(" "),t("h3",{attrs:{id:"为什么是docker而不是vagrant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么是docker而不是vagrant"}},[a._v("#")]),a._v(" 为什么是Docker而不是Vagrant")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.vagrantup.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Vagrant"),t("OutboundLink")],1),a._v(" 可以在进分钟内创建虚拟机， 而 Docker 是在几秒中内创建虚拟容器。")]),a._v(" "),t("p",[a._v("Docker提供"),t("strong",[a._v("轻量级")]),a._v("的虚拟容器，它们共享相同的内核，并允许安全的执行独立的进程，而不像Vagrant一样提供完整的虚拟机。")]),a._v(" "),t("p",[a._v("除了速度之外，Docker还提供了很多Vagrant无法实现的功能。")]),a._v(" "),t("p",[a._v("最重要的是，Docker可以运行在开发和生产（任何地方都可以做到相同的环境），而Vagrant仅仅只是为了开发而设计（因此您必须每次在生产环境中重新配置您的服务器）")]),a._v(" "),t("h2",{attrs:{id:"入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#入门"}},[a._v("#")]),a._v(" 入门")]),a._v(" "),t("h3",{attrs:{id:"要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#要求"}},[a._v("#")]),a._v(" 要求")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[a._v("Git"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.docker.com/products/docker/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker"),t("OutboundLink")],1),a._v(" "),t("code",[a._v(">= 1.12")])])]),a._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("选择最适合你的需求进行设置")]),a._v(" "),t("ul",[t("li",[a._v("单个项目的设置\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E5%B7%B2%E7%BB%8F%E6%9C%89%E4%B8%80%E4%B8%AAphp%E9%A1%B9%E7%9B%AE",target:"_blank",rel:"noopener noreferrer"}},[a._v("已经有一个PHP项目"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E8%BF%98%E6%B2%A1%E6%9C%89%E4%B8%80%E4%B8%AAphp%E9%A1%B9%E7%9B%AE",target:"_blank",rel:"noopener noreferrer"}},[a._v("还没有一个PHP项目"),t("OutboundLink")],1)])])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[a._v("多个项目的设置"),t("OutboundLink")],1)])]),a._v(" "),t("h4",{attrs:{id:"单个项目的设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单个项目的设置"}},[a._v("#")]),a._v(" 单个项目的设置")]),a._v(" "),t("blockquote",[t("p",[a._v("(如果你想为每个项目单独配置Docker环境，按照下面这些步骤)")])]),a._v(" "),t("h5",{attrs:{id:"已经有一个php项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已经有一个php项目"}},[a._v("#")]),a._v(" 已经有一个PHP项目")]),a._v(" "),t("h5",{attrs:{id:"_1-将laradock克隆到你项目的根目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-将laradock克隆到你项目的根目录"}},[a._v("#")]),a._v(" 1.将laradock克隆到你项目的根目录:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" submodule "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" https://github.com/Laradock/laradock.git\n")])])]),t("p",[a._v("注意: 如果你还没有为你的项目使用Git，你可以使用 "),t("code",[a._v("git clone")]),a._v("代替 "),t("code",[a._v("git submodule")]),a._v("。")]),a._v(" "),t("p",[t("em",[a._v("记录你的laradock的变化同时保持更新laradock到你的项目 "),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/documentation#keep-track-of-your-laradock-changes",target:"_blank",rel:"noopener noreferrer"}},[a._v("查看这些文档"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("你的文件夹结构应该如下所示:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("+ project-a\n  + laradock-a\n+ project-b\n  + laradock-b\n")])])]),t("p",[t("em",[a._v("(如果你想为每个项目运行单独的laradock，将laradock文件夹重命名为每个项目中的唯一名称很重要).")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("现在跳转到"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("用法"),t("OutboundLink")],1),a._v("部分.")])])]),a._v(" "),t("h4",{attrs:{id:"还没有一个php项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#还没有一个php项目"}},[a._v("#")]),a._v(" 还没有一个PHP项目")]),a._v(" "),t("h5",{attrs:{id:"_1-将repository克隆到你机器的任意位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-将repository克隆到你机器的任意位置"}},[a._v("#")]),a._v(" 1.将repository克隆到你机器的任意位置:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/laradock/laradock.git\n")])])]),t("p",[a._v("你的文件夹结构应该如下所示")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("+ laradock\n+ project-z\n")])])]),t("h5",{attrs:{id:"_2-编辑你的web服务器站点配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-编辑你的web服务器站点配置"}},[a._v("#")]),a._v(" 2.编辑你的web服务器站点配置")]),a._v(" "),t("p",[a._v("我们需要去执行"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("用法"),t("OutboundLink")],1),a._v("部分的第一步来实现这一点")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cp env-example .env\n")])])]),t("p",[a._v("在顶部, 修改 "),t("code",[a._v("APPLICATION")]),a._v("变量为你的项目路径.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("APPLICATION=../project-z/\n")])])]),t("p",[a._v("确保使用你的项目文件夹名称将"),t("code",[a._v("project-z")]),a._v("进行替换")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("现在跳转到"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("用法"),t("OutboundLink")],1),a._v("部分")])])]),a._v(" "),t("h4",{attrs:{id:"多个项目的设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多个项目的设置"}},[a._v("#")]),a._v(" 多个项目的设置")]),a._v(" "),t("blockquote",[t("p",[a._v("(如果你想为你的所有项目使用单个的Docker环境，请遵循以下步骤)")])]),a._v(" "),t("h5",{attrs:{id:"_1-在你的机器上的任意位置克隆repository-类似于上面的还没有一个php项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-在你的机器上的任意位置克隆repository-类似于上面的还没有一个php项目"}},[a._v("#")]),a._v(" 1.在你的机器上的任意位置克隆repository(类似于"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#%E8%BF%98%E6%B2%A1%E6%9C%89%E4%B8%80%E4%B8%AAPHP%E9%A1%B9%E7%9B%AE",target:"_blank",rel:"noopener noreferrer"}},[a._v("上面的还没有一个PHP项目"),t("OutboundLink")],1),a._v("):")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/laradock/laradock.git\n")])])]),t("p",[a._v("你的文件夹结构应该如下所示:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("+ laradock\n+ project-1\n+ project-2\n")])])]),t("h5",{attrs:{id:"_2-进入nginx-sites为访问的不同的域名创建配置文件去指向不同的项目目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-进入nginx-sites为访问的不同的域名创建配置文件去指向不同的项目目录"}},[a._v("#")]),a._v(" 2.进入"),t("code",[a._v("nginx/sites")]),a._v("为访问的不同的域名创建配置文件去指向不同的项目目录")]),a._v(" "),t("p",[a._v("默认情况下laradock包含"),t("code",[a._v("app.conf.example")]),a._v(", "),t("code",[a._v("laravel.conf.example")]),a._v(" 和 "),t("code",[a._v("symfony.conf.example")]),a._v(" 作为工作样本")]),a._v(" "),t("h5",{attrs:{id:"_3-修改默认名称为-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改默认名称为-conf"}},[a._v("#")]),a._v(" 3.修改默认名称为"),t("code",[a._v("*.conf")]),a._v(":")]),a._v(" "),t("p",[a._v("你可以根据需要重命名配置文件、项目文件夹和域名，只要确保"),t("code",[a._v("root")]),a._v("在配置文件中指向正确的文件夹名称即可。")]),a._v(" "),t("h5",{attrs:{id:"_4-在hosts文件中增加域名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-在hosts文件中增加域名"}},[a._v("#")]),a._v(" 4.在"),t("strong",[a._v("hosts")]),a._v("文件中增加域名")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("127.0.0.1  project-1.test\n127.0.0.1  project-2.test\n...\n")])])]),t("p",[a._v("如果你使用的是Chrome 63或者更高版本进行开发的,请勿使用"),t("code",[a._v(".dev")]),a._v("的域名 "),t("a",{attrs:{href:"https://laravel-news.com/chrome-63-now-forces-dev-domains-https",target:"_blank",rel:"noopener noreferrer"}},[a._v("为什么?"),t("OutboundLink")],1),a._v(". 使用 "),t("code",[a._v(".localhost")]),a._v(", "),t("code",[a._v(".invalid")]),a._v(", "),t("code",[a._v(".test")]),a._v(", "),t("code",[a._v(".example")]),a._v("取代它。")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("现在跳转到"),t("RouterLink",{attrs:{to:"/wamp/Laradock.html#用法"}},[a._v("用法")]),a._v("部分")],1)])]),a._v(" "),t("h3",{attrs:{id:"用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[a._v("#")]),a._v(" 用法")]),a._v(" "),t("p",[t("strong",[a._v("开始阅读之前:")])]),a._v(" "),t("p",[a._v("如果你使用的是 "),t("strong",[a._v("Docker Toolbox")]),a._v(" (VM), 请执行以下操作中的任意一个:")]),a._v(" "),t("h5",{attrs:{id:"升级mac-windowsnative-推荐-检查升级-laradock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级mac-windowsnative-推荐-检查升级-laradock"}},[a._v("#")]),a._v(" 升级Mac/Windows"),t("a",{attrs:{href:"https://www.docker.com/products/docker",target:"_blank",rel:"noopener noreferrer"}},[a._v("Native"),t("OutboundLink")],1),a._v("(推荐). 检查"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/documentation#upgrading-laradock",target:"_blank",rel:"noopener noreferrer"}},[a._v("升级 Laradock"),t("OutboundLink")],1)]),a._v(" "),t("h5",{attrs:{id:"使用-laradock-v3-visit-the-laradock-toolbox-branch-outdated"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-laradock-v3-visit-the-laradock-toolbox-branch-outdated"}},[a._v("#")]),a._v(" 使用 Laradock v3.*. Visit the "),t("a",{attrs:{href:"https://github.com/laradock/laradock/tree/Laradock-ToolBox",target:"_blank",rel:"noopener noreferrer"}},[a._v("Laradock-ToolBox"),t("OutboundLink")],1),a._v(" branch. "),t("em",[a._v("(outdated)")])]),a._v(" "),t("p",[a._v("我们推荐使用比1.13更新的Docker版本")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("警告:")]),a._v(" 如果你使用旧版的laradock，强烈推荐你所使用的容器，你需要"),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#Build-Re-build-Containers",target:"_blank",rel:"noopener noreferrer"}},[a._v("看怎样重新构建容器"),t("OutboundLink")],1),a._v("以尽量避免错误")])]),a._v(" "),t("h5",{attrs:{id:"_1-进入laradock文件夹并复制env-example-to-env"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-进入laradock文件夹并复制env-example-to-env"}},[a._v("#")]),a._v(" 1.进入laradock文件夹并复制"),t("code",[a._v("env-example")]),a._v(" to "),t("code",[a._v(".env")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" env-example .env\n")])])]),t("p",[a._v("你可以编辑"),t("code",[a._v(".env")]),a._v("文件去选择你想在环境中安装的软件，你始终可以参考"),t("code",[a._v("docker-compose.yml")]),a._v("文件去看如何使用这些变量。")]),a._v(" "),t("p",[a._v("根据主机的操作系统，您可能需要更改给定的值 "),t("code",[a._v("COMPOSE_FILE")]),a._v("的值， 当你在MacOS上运行laradock时要使用的文件分隔符是"),t("code",[a._v(":")]),a._v("， 当你在Windows环境上运行laradock时，必须使用 "),t("code",[a._v(";")]),a._v("来作为多个文件的分隔符。")]),a._v(" "),t("p",[t("strong",[a._v("这里需要对配置针对性修改一下")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果您需要更改源(即中国)，请将CHANGE_SOURCE 设置为true")]),a._v("\nCHANGE_SOURCE=true\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mysql 默认使用的是 latest 最新版本，我这里设置成 5.7 是为了兼容")]),a._v("\nMYSQL_VERSION=5.7\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# composer 全局安装，建议开启")]),a._v("\nWORKSPACE_COMPOSER_GLOBAL_INSTALL=true \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# composer 中国镜像，如果使用 composer 一定要配置")]),a._v("\nWORKSPACE_COMPOSER_REPO_PACKAGIST=https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//mirrors.aliyun.com/composer\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm 的淘宝镜像")]),a._v("\nWORKSPACE_NVM_NODEJS_ORG_MIRROR=https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//npm.taobao.org/mirrors/node\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否安装 node 根据需求，可选（安装它可能导致，一直安装不上）")]),a._v("\nWORKSPACE_INSTALL_NODE=true\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# node 版本")]),a._v("\nWORKSPACE_NODE_VERSION=node\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm 淘宝镜像")]),a._v("\nWORKSPACE_NPM_REGISTRY=https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//registry.npm.taobao.org\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装 pnpm ")]),a._v("\nWORKSPACE_INSTALL_PNPM=false\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装 yarn ，根据需求可选")]),a._v("\nWORKSPACE_INSTALL_YARN=true\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装最新版 yarn")]),a._v("\nWORKSPACE_YARN_VERSION=latest\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装 npm gulp 压缩工具，默认安装(安装它可能导致，一直安装不上）")]),a._v("\nWORKSPACE_INSTALL_NPM_GULP=true\nWORKSPACE_INSTALL_NPM_BOWER=false\nWORKSPACE_INSTALL_NPM_VUE_CLI=true\nWORKSPACE_INSTALL_NPM_ANGULAR_CLI=false\n")])])]),t("h5",{attrs:{id:"_2-运行docker-compose来构建环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行docker-compose来构建环境"}},[a._v("#")]),a._v(" 2.运行"),t("code",[a._v("docker-compose")]),a._v("来构建环境")]),a._v(" "),t("p",[a._v("在这个例子中我们将看到如何运行Nginx(web服务器)和MySQL(数据库引擎)来托管一个PHP脚本")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker-compose up -d nginx mysql\n")])])]),t("p",[t("strong",[a._v("注意")]),a._v(": 大多数情况下 "),t("code",[a._v("workspace")]),a._v(" 和 "),t("code",[a._v("php-fpm")]),a._v(" 会自动运行, 所以不需要再"),t("code",[a._v("up")]),a._v("命令中指定它们， 如果你找不到他们，那么你需要这样指定它们: "),t("code",[a._v("docker-compose up -d nginx php-fpm mysql workspace")]),a._v("。")]),a._v(" "),t("p",[a._v("你可以从"),t("a",{attrs:{href:"http://laradock.io/introduction/#supported-software-images",target:"_blank",rel:"noopener noreferrer"}},[a._v("这个列表"),t("OutboundLink")],1),a._v("中选择自己的容器组合")]),a._v(" "),t("p",[t("em",[a._v("(请注意，有时我们忘记更新文档，请检查"),t("code",[a._v("docker-compose.yml")]),a._v("文件以查看所有可用容器的更新列表)")])]),a._v(" "),t("h5",{attrs:{id:"_3-进入workspace容器-执行比如-artisan-composer-phpunit-gulp-等命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-进入workspace容器-执行比如-artisan-composer-phpunit-gulp-等命令"}},[a._v("#")]),a._v(" 3.进入Workspace容器, 执行比如(Artisan, Composer, PHPUnit, Gulp, ...)等命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker-compose "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" workspace "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),t("p",[t("em",[a._v("另外, 针对 Windows PowerShell 用户: 执行以下命令以进入任何正在运行的容器:")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("workspace-container-id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),t("p",[t("strong",[a._v("注意:")]),a._v(" 你可以添加"),t("code",[a._v("--user=laradock")]),a._v("来创建主机的用户. 比如:")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker-compose "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("laradock workspace "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),t("p",[t("em",[a._v("您可以从"),t("code",[a._v(".env")]),a._v("文件中更改PUID (用户标识) 和 PGID (组标识) 变量")])]),a._v(" "),t("h5",{attrs:{id:"_4-更新您的项目配置以使用数据库主机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-更新您的项目配置以使用数据库主机"}},[a._v("#")]),a._v(" 4.更新您的项目配置以使用数据库主机")]),a._v(" "),t("p",[a._v("打开你PHP项目的"),t("code",[a._v(".env")]),a._v("文件或者你正在读取的配置文件, 并将数据库配置"),t("code",[a._v("DB_HOST")]),a._v("设置为"),t("code",[a._v("mysql")]),a._v(":")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[a._v("DB_HOST=mysql\n")])])]),t("p",[t("em",[a._v("如果你想将laravel安装为PHP项目, 请参阅 "),t("a",{attrs:{href:"https://laradock-docs.linganmin.cn/zh/getting-started/#Install-Laravel",target:"_blank",rel:"noopener noreferrer"}},[a._v("如和在Docker容器中安装laravel"),t("OutboundLink")],1),a._v(".")])]),a._v(" "),t("h5",{attrs:{id:"_5-打开浏览器并访问您的本地主机地址http-localhost-如果你按照多个项目设置-你可以访问-http-project-1-test-和-http-project-2-test-。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-打开浏览器并访问您的本地主机地址http-localhost-如果你按照多个项目设置-你可以访问-http-project-1-test-和-http-project-2-test-。"}},[a._v("#")]),a._v(" 5.打开浏览器并访问您的本地主机地址"),t("code",[a._v("http://localhost/")]),a._v("， 如果你按照多个项目设置，你可以访问 "),t("code",[a._v("http://project-1.test/")]),a._v(" 和 "),t("code",[a._v("http://project-2.test/")]),a._v("。")])])}),[],!1,null,null,null);e.default=s.exports}}]);